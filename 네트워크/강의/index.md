# ë„¤íŠ¸ì›Œí¬

## 1. ì• í”Œë¦¬ì¼€ì´ì…˜ ê³„ì¸µ

### ë„¤íŠ¸ì›Œí¬ ì§€ì—°, íŒ¨í‚· ìœ ì‹¤

ë„¤íŠ¸ì›Œí¬ í†µì‹ ì„ í•  ë•Œ íŒ¨í‚·ì´ ì„œë¡œ ì˜¤ê°€ëŠ”ë°, ë¼ìš°í„°ì— íë¥¼ ì´ìš©í•´ì„œ íŒ¨í‚·ì„ ì €ì¥í•˜ê²Œ ëœë‹¤. ì´ ë•Œ ë¼ìš°í„°ì—ì„œ íŒ¨í‚·ì„ ìˆ˜ìš©í•  ìˆ˜ ìˆëŠ” ë²”ìœ„ë¥¼ ë²—ì–´ë‚˜ê²Œ ë˜ë©´ íŒ¨í‚· ìœ ì‹¤ì´ ì¼ì–´ë‚˜ëŠ”ë°, ë„¤íŠ¸ì›Œí¬ì—ì„œ ë°œìƒí•˜ëŠ” ëŒ€ë¶€ë¶„ì˜ íŒ¨í‚· ìœ ì‹¤ì€ ì´ ë•Œ ì¼ì–´ë‚œë‹¤.

> í”„ë¡œì„¸ìŠ¤ì™€ í”„ë¡œê·¸ë¨ì´ë€? ğŸ¤”
>
> í”„ë¡œì„¸ìŠ¤: í”„ë¡œê·¸ë¨ì„ ìš´ì˜ì²´ì œ ìœ„ì—ì„œ ì‹¤í–‰ì‹œí‚¤ë©´ í”„ë¡œì„¸ìŠ¤ê°€ ëœë‹¤.

### ë„¤íŠ¸ì›Œí¬ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ë€?

* ìš´ì˜ì²´ì œ ìœ„ì—ì„œ ì‹¤í–‰ë˜ëŠ” í•˜ë‚˜ì˜ í”„ë¡œì„¸ìŠ¤ë“¤ì´ ë‹¤ë¥¸ ë¨¸ì‹ ì— ìˆëŠ” í”„ë¡œì„¸ìŠ¤ì™€ ë©”ì„¸ì§€ë¥¼ êµí™˜í•˜ëŠ” ê²ƒì´ë‹¤.

### ì• í”Œë¦¬ì¼€ì´ì…˜ ëª¨ë¸

* ëŒ€í‘œì ì¸ ì• í”Œë¦¬ì¼€ì´ì…˜ ëª¨ë¸ì€ ì„œë²„-í´ë¼ì´ì–¸íŠ¸ ëª¨ë¸ì´ë‹¤.
* í´ë¼ì´ì–¸íŠ¸ë€ ë­”ê°€ë¥¼ í•„ìš”í•  ë•Œë§Œ ë©”ì„¸ì§€ë¥¼ ë³´ë‚´ëŠ” ì•¡ì…˜ì„ ì·¨í•œë‹¤.
* ì„œë²„ëŠ” 24ì‹œê°„ ë‚´ë‚´ ê°™ì€ ì¥ì†Œ(ê³ ì •ëœ ì£¼ì†Œë¥¼ ê°€ì§„ë‹¤)ì—ì„œ ê¸°ë‹¤ë¦°ë‹¤.

### Processes Communicating

* ê°™ì€ ë¨¸ì‹ ì— ìˆëŠ” í”„ë¡œì„¸ìŠ¤ë¼ë¦¬ ë©”ì„¸ì§€ë¥¼ êµí™˜í•˜ëŠ” ê²ƒì— ëŒ€ë¹„í•´ì„œ íŒŒì´í”„ ê°™ì€ ê²ƒì„ ì œê³µí•´ ì£¼ëŠ”ë°, ì´ê²ƒì„ IPC(Inter Process Comunication)ë¼ê³  í•œë‹¤.
* ë„¤íŠ¸ì›Œí¬ ì»¤ë®¤ë‹ˆì¼€ì´ì…˜ì€ ì„œë¡œ ë‹¤ë¥¸ ë¨¸ì‹ ì— ìˆëŠ” í”„ë¡œì„¸ìŠ¤ê°„ì— ë©”ì„¸ì§€ë¥¼ êµí™˜í•˜ëŠ” ê²ƒì´ë‹¤.
* ìš´ì˜ì²´ì œëŠ” IPCë¥¼ ìœ„í•´ ì†Œì¼“ì´ë¼ê³  ë¶ˆë¦¬ëŠ” ì¸í„°í˜ì´ìŠ¤ë¥¼ ì œê³µí•œë‹¤.
  * ì‚¬ìš©ì í”„ë¡œê·¸ë¨ë“¤ì´ ë­”ê°€ ì¼ì„ í•  ë•Œ í¸í•˜ê²Œ ì‘ì—…í•  ìˆ˜ ìˆë„ë¡ APIë¥¼ ì œê³µí•´ì£¼ëŠ”ë° ì´ë¥¼ ì‹œìŠ¤í…œì½œì´ë¼ê³  í•œë‹¤. ê·¸ ì¤‘ ë„¤íŠ¸ì›Œí¬ ê´€ë ¨ëœ ê¸°ëŠ¥ë„ ìš´ì˜ì²´ì œê°€ ì œê³µí•´ ì£¼ëŠ”ë°, ì´ APIê°€ ë°”ë¡œ ì†Œì¼“ì´ë‹¤.
* ë„¤íŠ¸ì›Œí¬ ì»¤ë®¤ë‹ˆì¼€ì´ì…˜ì„ í•˜ë ¤ë©´ ì„œë²„ì˜ ì£¼ì†Œ(í•´ë‹¹ í”„ë¡œì„¸ìŠ¤ì˜ ì†Œì¼“ ì¸í„°í˜ì´ìŠ¤ë¥¼ ë‚˜íƒ€ë‚¸ë‹¤.)ë¥¼ ì •í™•íˆ ì•Œì•„ì•¼ í•œë‹¤. ì´ ì£¼ì†Œë¥¼ IP ì£¼ì†Œë¼ê³  í•œë‹¤. IP ì£¼ì†ŒëŠ” í”„ë¡œì„¸ìŠ¤ê°€ ì‹¤í–‰ë˜ê³  ìˆëŠ” ë¨¸ì‹ ì„ ì§€ì¹­í•œë‹¤.
* í•˜ë‚˜ì˜ ë¨¸ì‹ ì•ˆì— ìˆ˜ ë§ì€ í”„ë¡œì„¸ìŠ¤ë“¤ì´ ë™ì‘í•˜ê³  ìˆëŠ”ë°, ê° í”„ë¡œì„¸ìŠ¤ë“¤ì„ êµ¬ë¶„í•˜ê¸° ìœ„í•´ í¬íŠ¸ ë²ˆí˜¸ë¥¼ ì‚¬ìš©í•œë‹¤.
* ì¦‰, ì†Œì¼“ì„ ì •í™•íˆ ì§€ì¹­í•˜ê¸° ìœ„í•´ IPì£¼ì†Œì™€ í¬íŠ¸ ë²ˆí˜¸ë¥¼ ì‚¬ìš©í•œë‹¤. (ì¢€ ë” ê¹Šì´ ê³µë¶€í•˜ë©´ ì´ ëœ»ì´ ì•„ë‹ˆë¼ëŠ” ê²ƒì´ ì´í•´ëœë‹¤.)
* ì›¹ ì„œë²„ í”„ë¡œì„¸ìŠ¤ì˜ í¬íŠ¸ ë²ˆí˜¸ëŠ” ì•”ë¬µì ìœ¼ë¡œ 80ì„ ì‚¬ìš©í•œë‹¤.

### What transport service does an app need?

* ì• í”Œë¦¬ì¼€ì´ì…˜ì€ íŠ¸ëœìŠ¤í¬íŠ¸ ê³„ì¸µì—ì„œ ë‹¤ìŒê³¼ ê°™ì€ ì„œë¹„ìŠ¤ë¥¼ ì œê³µë°›ê¸°ë¥¼ ì›í•œë‹¤.
  * Data Integrity : some apps (e.g. file transfer, web transactions) require 100% reliable data transfer
  * Timing : some apps (e.g. Internet telephony, interactive games) require low delay to be "effective"
  * Throughput : some apps (e.g. multimedia) require minimum amount of throughput to be "effective", other apps("elastic apps") make use of whatever throughput they get
  * Security : encryption, data integrity...

### Internet transport protocols services

* íŠ¸ëœìŠ¤í¬íŠ¸ ê³„ì¸µì—ì„œ ì œê³µí•˜ëŠ” ì„œë¹„ìŠ¤ëŠ” TCPì™€ UDPì´ë‹¤.

* **TCP Service**
  * Reliable transport between sending and receiving process
  * Flow control : sender won't overwhelm receiver
  * Congestion control : throttle sender when network overloaded
  * Does not provide : timing, minimum throughput guarantee, security
  * Connection-oriented : setup required between client and server processes
* UDP Service
  * Unreliable data transfer between sending and receiving process
  * Does not provice : reliability, flow control, congestion control, timing, throughput guarantee, security, orconnection setup
* TCPì™€ UDP ì‚¬ì´ì—ì„œ ë¬´ì—‡ì„ ì‚¬ìš©í• ì§€ íŒë‹¨ì€ ì‹ ë¢°ì„± ìˆê²Œ ì „ì†¡í•˜ëŠ”ì§€ ì•ˆí•˜ëŠ”ì§€ ì°¨ì´ë‹¤.



## Web And HTTP

### HTTP Overview

* HTTPëŠ” Hypertext transfer protocolì˜ ì•½ìì´ë‹¤. ì¦‰, í…ìŠ¤íŠ¸ì¸ë° ë§í¬(ë™ì˜ìƒ, ì´ë¯¸ì§€, ...)ë“¤ì´ ìˆëŠ” í…ìŠ¤íŠ¸ì´ë‹¤.
* HTTPëŠ” requestì™€ responseë¡œ ì´ë£¨ì–´ì§„ë‹¤.
* HTTPëŠ” íŠ¸ëœìŠ¤í¬íŠ¸ ê³„ì¸µìœ¼ë¡œë¶€í„° TCP ì„œë¹„ìŠ¤ë¥¼ ì œê³µë°›ëŠ”ë‹¤.
  * Client initiates TCP connection (creates socket) to server, port 80 -> ìš´ì˜ì²´ì œë‹¨ì—ì„œ ì¼ì–´ë‚œë‹¤.
  * server acepts TCP connection from client -> ìš´ì˜ì²´ì œë‹¨ì—ì„œ ì¼ì–´ë‚œë‹¤.
  * HTTP messages(application-layer protocol messages exchanged between browser (HTTP client) and Web server (HTTP server))
  * TCP connection closed
* HTTP is "stateless" : server maintains no information about past client requests

### HTTP connections

* Non-persistent HTTP
  * at most one object sent over TCP connection, connection then closed
  * downloading multiple objects required multiple connections
* Persistent HTTP
  * Multiple objects can be sent over single TCP connection between client, server

> Non-persistent HTTP ì™€ Persistent HTTP ì´ë¯¸ì§€ ì²¨ë¶€

### Non-persistent HTTP : response time

* RTT (definition) : time for small packet to travel from client to server and back
* HTTP response time:
  * one RTT to initiate TCP connection
  * one RTT for HTTP request and first few bytes of HTTP response to return
  * file transmission time
  * Non-persistent HTTP response time = 2RTT + file transmission time
  * HTTP ë©”ì„¸ì§€ëŠ” ìš©ëŸ‰ì´ ì‘ì•„ì„œ ë¬´ì‹œí•  ë§Œí¼ ì‹œê°„ì´ ì ê²Œ ê±¸ë¦¬ì§€ë§Œ file transmission timeì€ ìš©ëŸ‰ì´ í¬ê¸° ë•Œë¬¸ì— file transmission timeì„ ë”í•´ì¤€ë‹¤.

> Non-persistent HTTP : response time ì´ë¯¸ì§€ ì²¨ë¶€

### Persistent HTTP

* Non-persistent HTTP Issues :
  * requires 2 RTTs per object
  * OS overhead for each TCP connection
  * browsers often open parallel TCP connections to fetch referenced objects
* persistent HTTP :
  * server leaves connection open after sending response
  * subsequent HTTP messages between same client/server sent over open conneciton
  * Client sends requests as soon as it encounters a referenced object
  * as little as on RTT for all the referenced objects

### HTTP request message

* two types of HTTP messages : request, response

* most important line of HTTP message is first line

  ```
  // request header
  GET /index.html HTTP/1.1\r\n
  
  // response header
  HTTP/1.1 200 OK\r\n
  ```

### User-server state: cookies

* ì¿ í‚¤ëŠ” statelessë¥¼ ë³´ì™„í•˜ê¸° ìœ„í•´ ë‚˜ì˜¨ trickì´ë‹¤.

  ![image-20231019200759753](./images/image-20231019200759753.png)

### Web cahces (proxy server)

* goal : satisfy client request without involving origin server
* User sets browser : Web accesses via cache
* browser sends all THHP requests to cache
  * object in cache : cache returns object
  * else cache requests object from origin server, then returns object to client

* ì¼ê´€ì„± ë¬¸ì œê°€ ìˆë‹¤.

